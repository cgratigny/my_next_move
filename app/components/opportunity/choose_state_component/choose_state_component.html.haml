%span{"data-action" => "click->dropdown#toggle click@window->dropdown#hide", "data-controller" => "dropdown"}
  #dropdown-button.relative.inline-block
    .inline-block.select-none{"data-dropdown-target" => "button", role: "button", tabindex: "0"}
      %span.appearance-none.flex.items-center.inline-block
        %span 
          = heroicon "chevron-down", size: 12, class: "inline"
    .hidden.absolute.top-4.left-auto.z-10.mt-5.flex.w-screen.max-w-max.dark:text-slate-100.dark:bg-slate-900.bg-slate-100.dark:text-slate-900{"data-dropdown-target" => "menu", "data-transition-enter" => "transition ease-out duration-200", "data-transition-enter-from" => "opacity-0 translate-y-1", "data-transition-enter-to" => "opacity-100 translate-y-0", "data-transition-leave" => "transition ease-in duration-150", "data-transition-leave-from" => "opacity-100 translate-y-0", "data-transition-leave-to" => "opacity-0 translate-y-1"}
      .text-sm.shadow-lg.rounded.border.overflow-hidden.w-32
        - opportunity_state_options.each do |opportunity_state|
          .no-underline.block.pl-4.py-2.text-gray-900.hover:bg-gray-100.dark:text-gray-200.dark:hover:bg-gray-800.dark:hover:text-gray-200.whitespace-no-wrap
            = button_to opportunity, method: :patch, data: { turbo_frame: dom_id(opportunity) }, params: { opportunity: { state: opportunity_state.to_s }}, form: { class: "inline" } do
              = opportunity_state.text

          

        